import * as React from "react"
import classNames from "classnames"
import { useTranslation } from "next-i18next"
import { useRouter } from "next/router"
import { Folder } from "./foldersvg"
import { useState, useEffect, useRef } from "react";
import useSWR from 'swr'
import { absoluteURL, formatDate } from "lib/utils"
import { DatePicker } from "components/datepickercomp"

/**
 * https://stackoverflow.com/questions/66979010/reactjs-form-with-two-submit-buttons-doing-two-different-tasks-for-same-form
 */


export function FormFinancementedit() {
  const { t } = useTranslation()
  const [status, setStatus] = React.useState<"error" | "success">()

const [enabled, setEnabled] = useState(false)
  const formRef = useRef();

async  function handlesubmit_task1(event) {
    event.preventDefault();
    const myRegData = {
      name: {
        value: formRef.current.myInput,
      },
      mail: {
        value: formRef.current.myInput2,
      },
    };
    console.log("handler 1", myRegData);
    formRef.current.reset();
  }
  const response = await fetch(`https://fed.septembre.io/user/register?_format=json`, {
    method: "POST",
    body: JSON.stringify(myRegData),
    headers: {
      'Content-Type': 'application/json',
    },

  })
  function handlesubmit_task2(event) {
    event.preventDefault();
    const { value } = formRef.current.myInput;
    console.log("handler 2", value);
    formRef.current.reset();
  }

  return (
    <>
    <form ref={formRef}>
       <button
         name="submit1"
         variant="contained"
         color="primary"
         type="submit"
         onClick={handlesubmit_task1}
       >
         task 1
       </button>

       <button
         name="submit2"
         variant="contained"
         color="primary"
         type="submit"
         onClick={handlesubmit_task2}
       >
         task 2
       </button>
       .... here input fields
       <div className="grid gap-2">

         <label htmlFor="body" className="font-semibold text-text">
           {t("description")} <span className="text-sm text-red-500">*</span>
         </label>
         <textarea
           id="body"
           name="myInput"




           className="h-48 px-2 py-3 border-2 border-gray focus:ring-0 focus:outline-dotted focus:outline-offset-2 focus:border-gray focus:outline-link"
         ></textarea>
       </div>

       <div className="grid gap-2">

         <label htmlFor="body" className="font-semibold text-text">
           {t("description")} <span className="text-sm text-red-500">*</span>
         </label>
         <textarea
           id="body2"
           name="myInput2"




           className="h-48 px-2 py-3 border-2 border-gray focus:ring-0 focus:outline-dotted focus:outline-offset-2 focus:border-gray focus:outline-link"
         ></textarea>
       </div>


       <div className="grid gap-2">

         <label htmlFor="body" className="font-semibold text-text">
           {t("description")} <span className="text-sm text-red-500">*</span>
         </label>
         <textarea
           id="body4"
           name="myInput2"




           className="h-48 px-2 py-3 border-2 border-gray focus:ring-0 focus:outline-dotted focus:outline-offset-2 focus:border-gray focus:outline-link"
         ></textarea>
       </div>
     </form>
   </>


  );
}
